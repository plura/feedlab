/* ============================================================
	CORE.CSS — App shell (sidebar / main / grid)
	- Uses tokens.css variables
	- Sidebar is non-scrolling; Main scrolls
	- Grid is fixed 3 columns (Instagram preview)
	- No template styles here
============================================================ */

/* 0) Base */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

body {
	margin: 0;
	font-family: var(--plura-ui-font-family-base);
	font-size: var(--plura-ui-font-size-base);
	line-height: var(--plura-ui-line-height);
	background: var(--plura-ui-color-bg);
	color: var(--plura-ui-color-fg);
}

/* 1) App shell: sidebar (left) + main (right) */
.plura-vs-app {
	display: flex;
	align-items: flex-start;
	gap: var(--plura-ui-space-6);
	/* Optional outer padding if needed; keep 0 by default */
	padding-inline: 0;
	padding-block: 0;
}

/* order */
.plura-vs-app .plura-vs-panel {
	order: 1;
}

.plura-vs-app .plura-vs-main {
	order: 2;
}


/* Sidebar: “fixed” feel without position:fixed (main does the scrolling) */
.plura-vs-panel {
	flex: 0 0 var(--plura-ui-sidebar-width, 260px);
	display: flex;
	flex-direction: column;
	gap: var(--plura-ui-space-4);
	height: 100svh;
	overflow: hidden;
	padding: var(--plura-ui-space-4);

	/* ADD: visual surface + divider (non-destructive) */
	background: var(--plura-ui-color-surface);
	border-right: var(--plura-ui-border-width) solid var(--plura-ui-color-border);
}

/* FilterBar host (module mounts here) */
.plura-vs-filterbar {
	/* layout only; visual styling in form.css */
	display: block;
}

/* Main area: the only scroll container */
.plura-vs-main {
	flex: 1 1 auto;
	display: flex;
	flex-direction: column;
	gap: var(--plura-ui-space-6);
	height: 100svh;
	overflow: auto;
	scrollbar-gutter: stable;
	padding: var(--plura-ui-space-4);

	/* ADD: explicit background (non-destructive) */
	background: var(--plura-ui-color-bg);
}

/* 2) Grid: centered, fixed 3 columns, tokenized gap/max */
.plura-vs-grid {
	margin: 0 auto;
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	max-width: var(--plura-ui-grid-max, 800px);
}

@media screen and (min-width: 767.99px) {
	
	.plura-vs-app:not(.is-mobile) .plura-vs-grid {
		gap: var(--plura-ui-space-4);
	}

}




/* 3) Post card & media (no visual chrome) */
.plura-vs-post {
	position: relative;
	overflow: hidden;
	aspect-ratio: 4 / 5; /* Instagram 4:5 */
}

.plura-vs-media,
.plura-vs-media > img {
	inline-size: 100%;
	block-size: 100%;
}

.plura-vs-media > img { object-fit: cover; }

/* Template layer host (overlay target) */
.plura-vs-layer-host {
	position: absolute;
	inset: 0;
	pointer-events: none; /* templates can override inside */
}

.plura-vs-layer-host > * { pointer-events: auto; }

/* ------------------------------------------------------------
   Optional helpers (only used if your FilterBar toggles them)
   ------------------------------------------------------------ */

/* If you decide to use app-level ratio classes */
.ratio-1-1 .plura-vs-post { --plura-vs-aspect: 1 / 1; }
.ratio-4-5 .plura-vs-post { --plura-vs-aspect: 4 / 5; }
/* And then in template/global CSS, you can do:
   .plura-vs-post { aspect-ratio: var(--plura-vs-aspect, 4 / 5); }
*/
